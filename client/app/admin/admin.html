<navbar></navbar>
<div class="container padding-top">
  <p>The delete user and user index api routes are restricted to users with the 'admin' role.</p>
  <div class="admin-container">
    <div class="admin-flex-item">
      <label>Role to change user to:</label>
      <ui-select class="mainselectize adminselect" ng-model="admin.role.selected" theme="selectize" ng-disabled="disabled" >
        <ui-select-match placeholder="Choose a Role">{{$select.selected}}</ui-select-match>
        <ui-select-choices repeat="role in admin.roles" >
          <div ng-bind-html="role | highlight: $select.search"></div>
        </ui-select-choices>
      </ui-select>
    </div>
    <div class="admin-flex-item">
      <label>Users sorted by:</label>
      <ui-select class="mainselectize adminselect" ng-model="admin.sort.selected" theme="selectize" ng-disabled="disabled" ng-change="admin.newSort()">
        <ui-select-match placeholder="Choose a Sort Order">{{$select.selected}}</ui-select-match>
        <ui-select-choices repeat="sort in admin.sortBy" >
          <div ng-bind-html="sort | highlight: $select.search"></div>
        </ui-select-choices>
      </ui-select>
    </div>
  </div>
  </br>
  <ul class="list-group user-list">
    <li class="list-group-item" ng-repeat="user in admin.users">
	    <div class="user-info">
	        <strong>{{user.name}}</strong><br>
	        <span class="text-muted">Email: {{user.email}} Id: {{user._id}} Type: {{user.provider}} Role: {{user.role}}</span>
	    </div>
        <a ng-click="admin.delete(user)" uib-tooltip="Delete" class="trash"><span class="fa fa-trash fa-fw fa-2x"></span></a>
        <a ng-click="admin.resetPassword(user)" uib-tooltip="Reset Password" class="trash"><span class="fa fa-undo fa-fw fa-counter-spin fa-2x"></span></a>
        <a ng-click="admin.changeRole(user)" uib-tooltip="Change Role" class="trash"><span class="fa fa-pencil-square-o fa-fw fa-2x"></span></a>
    </li>
  </ul>
</div>
